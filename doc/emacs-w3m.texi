\input texinfo @c -*-texinfo -*-
@c %**start of header
@setfilename emacs-w3m.info
@settitle Emacs-w3m -- an interface program of w3m --
@c %**end of header
@documentlanguage en
@include version.texi
@synindex pg cp
@finalout

@dircategory GNU Emacs Lisp
@direntry
* Emacs-w3m: (emacs-w3m).  An interface program of w3m
@end direntry

@c permissions text appears in an Info file before the first node.
@ifinfo
This file documents emacs-w3m, an interface program of w3m on Emacsen.

Copyright @copyright{} 2000, 2001, 2002 @w{TSUCHIYA Masatoshi}.

This edition is for emacs-w3m version @value{VERSION}.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.1 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with the Front-Cover texts being ``A GNU
Manual'', and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled ``GNU Free Documentation
License'' in the Emacs manual.

(a) The FSF's Back-Cover Text is: ``You have freedom to copy and modify
this GNU Manual, like GNU software.  Copies published by the Free
Software Foundation raise funds for GNU development.''

This document is part of a collection distributed under the GNU Free
Documentation License.  If you want to distribute this document
separately from the collection, you can do so by adding a copy of the
license to the document, as described in section 6 of the license.

@end ifinfo

@titlepage
@sp 10
@title Emacs-w3m User's Manual
@subtitle An interface program of w3m on Emacsen
@subtitle for emacs-w3m version @value{VERSION}
@author The emacs-w3m development team
@page

@vskip 0pt plus 1filll
Copyright @copyright{} 2000, 2001, 2002 @w{TSUCHIYA Masatoshi}.

This manual corresponds to emacs-w3m version @value{VERSION}.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.1 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with the Front-Cover texts being ``A GNU
Manual'', and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled ``GNU Free Documentation
License'' in the Emacs manual.

(a) The FSF's Back-Cover Text is: ``You have freedom to copy and modify
this GNU Manual, like GNU software.  Copies published by the Free
Software Foundation raise funds for GNU development.''

This document is part of a collection distributed under the GNU Free
Documentation License.  If you want to distribute this document
separately from the collection, you can do so by adding a copy of the
license to the document, as described in section 6 of the license.

@end titlepage

@ifinfo
@node Top
@top Emacs-w3m User's Manual

@flushright
The emacs-w3m development team
@end flushright

This manual corresponds to emacs-w3m version @value{VERSION}.

@end ifinfo

@menu
* Introduction::                Preliminary remarks to emacs-w3m
* Getting Started::             It's so easy to begin to use emacs-w3m
* Shimbun Library::             A tool for reading a web newspaper
* Index::                       Index

@detailmenu
 --- The Detailed Node Listing ---

Getting Started

* Required Emacs Version::      What version of Emacs can be used?
* You Need w3m::                Using w3m: the reason why emacs-w3m is fast
* Other Requirements::          Things required to run emacs-w3m
* Installing Emacs-w3m::        Installing emacs-w3m
* Non-UNIX-like systems::       Installing in non-UNIX-like systems

Shimbun Library

@end detailmenu
@end menu

@node Introduction
@chapter Preliminary remarks to emacs-w3m
@cindex Introduction

Our special thanks go to Akinori ITO and a group who have developed the
good w3m program.  W3m is essential to have realized emacs-w3m.  Also
thanks to all for comments, suggestions, and bug fixes.  Even though
there are any problems, all responsibility is in us the emacs-w3m
development team, but there is no warranty as you know.  The emacs-w3m
program was first created by TSUCHIYA Masatoshi in June 2000.

See also the emacs-w3m official page: @uref{http://emacs-w3m.namazu.org/}

@node Getting Started
@chapter It's so easy to begin to use emacs-w3m
@cindex getting started
@cindex starting up

Emacs-w3m may possibly have already been installed in your system to be
able to use at once.  You may skip this section if you are such a lucky
person; read it over again when you install a new version of emacs-w3m.

@menu
* Required Emacs Version::      What version of Emacs can be used?
* You Need w3m::                Using w3m: the reason why emacs-w3m is fast
* Other Requirements::          Things required to run emacs-w3m
* Installing Emacs-w3m::        Installing emacs-w3m
* Non-UNIX-like systems::       Installing in non-UNIX-like systems
@end menu

@node Required Emacs Version
@section What version of Emacs can be used?
@cindex emacs version

You can run emacs-w3m in various versions of Emacsen listed below:

@table @samp

@item Emacs 21.x
No additional package is required.

@item XEmacs 21.x
The APEL package and the @samp{gifsicle} program are required
(@pxref{Other Requirements}).  We recommend using the most recent XEmacs
21.4 since that version of XEmacs seems to be most stable.

@item Emacs 20.x
No additional package is required.  Furthermore, you can see monochrome
bitmap images inline by using the BITMAP-MULE package (@pxref{Other
Requirements}).

@item Emacs 19.34 (including Mule 2.3)
The APEL package, the @samp{new custom} package and the
@file{regexp-opt.el} module are required.  If you are using Mule 2.3
based on Emacs 19.34, you can see monochrome bitmap images inline by
using the BITMAP-MULE package (@pxref{Other Requirements}).

@end table

@node You Need w3m
@section Using w3m: the reason why emacs-w3m is fast
@cindex w3m

Emacs-w3m uses the external w3m command as a back end to retrieve web
contents or a HTML rendering engine.  Since Emacs has been exempted from
those such jobs, we could realize an accelerated Emacs web browser and
asynchronous operations.  You must install the latest w3m command.  It
is available in:

@uref{http://prdownloads.sourceforge.net/w3m/}

@node Other Requirements
@section Things required to run emacs-w3m
@cindex APEL
@cindex gifsicle
@cindex BITMAP-MULE
@cindex new custom
@cindex regexp-opt.el
@cindex FLIM

Depending on the version of Emacs, third party's packages are required.
In this section, we introduce places where they can be found:

@table @samp

@item APEL
Indispensable to XEmacs, Emacs 19.34 or Mule 2.3.  You should install
APEL before building emacs-w3m.  APEL is available in:

@uref{ftp://ftp.m17n.org/pub/mule/apel/apel-10.4.tar.gz}

If you are using XEmacs and already have the APEL XEmacs package
installed, we strongly recommend replacing it with APEL which is
introduced above.  To replace it, use the directives like shown below:

@example
# rm -fr /usr/local/lib/xemacs/xemacs-packages/lisp/apel
# cd apel-10.4
# make install-package XEMACS=xemacs-21.4.x\
  PACKAGEDIR=/usr/local/lib/xemacs/xemacs-packages
@end example

@item gifsicle
Indispensable to XEmacs.  There is a known bug in the whole of XEmacs
21.x series that it won't display optimized animated gifs correctly or
it may crash when some kind of an interlaced gif image is displayed.
Emacs-w3m uses the @samp{gifsicle} program to convert gif data in order
to make it possible to be handled by XEmacs 21.x.  It is available in:

@uref{http://www.lcdf.org/gifsicle/}

@item BITMAP-MULE
Used for displaying monochrome bitmap images inline in Emacs 20.x or
Mule 2.3 based on Emacs 19,34.  It isn't always necessary if you aren't
interested in images.  It is available in:

@uref{ftp://ftp.jpl.org/pub/elisp/bitmap/}

@item new custom
Indispensable to Emacs 19.34 (including Mule 2.3).  The @samp{custom}
library bundled with Emacs 19.34 is @emph{old}, whose API is
incompatible with @samp{new custom} bundled with the recent Emacsen.
The @samp{new custom} for Emacs 19.34 is available in:

@uref{ftp://ftp.dina.kvl.dk/pub/Staff/Per.Abrahamsen/custom/custom-1.9962.tar.gz}

Note that Mule 2.3 users should slightly modify it by applying the
following patch:

@example
----8<------8<------8<------8<------8<------8<------8<------8<----
--- custom-1.9962/cus-face.el~	Wed Mar  4 19:52:39 1998
+++ custom-1.9962/cus-face.el	Mon Mar  9 08:05:33 1998
@@ -96,7 +96,7 @@
       "Define a new FACE on all frames, ignoring X resources."
       (interactive "SMake face: ")
       (or (internal-find-face name)
-	  (let ((face (make-vector 8 nil)))
+	  (let ((face (make-vector face-vector-length nil)))
 	    (aset face 0 'face)
 	    (aset face 1 name)
 	    (let* ((frames (frame-list))
----8<------8<------8<------8<------8<------8<------8<------8<----
@end example

@item regexp-opt.el
Indispensable to Emacs 19.34 (including Mule 2.3).  The file
@file{regexp-opt.el} is included in the @file{attic/} directory of the
emacs-w3m distributin.  You may simply copy it into somewhere (e.g.
@file{site-lisp/} directory) and perform byte-compile as follows:

@example
# cp -p attic/regexp-opt.el /usr/local/share/emacs/19.34/site-lisp
# cd /usr/local/share/emacs/19.34/site-lisp
# emacs -batch -q -no-site-file -f batch-byte-compile regexp-opt.el
@end example

@item FLIM
The FLIM package is required for using the shimbun library.  The shimbun
library is a collection of tools for reading a web newspaper, you can
use it with Gnus, Mew, Nana-gnus, T-gnus, Wanderlust, etc.
@xref{Shimbun Library}.

Note that the FLIM package requires the APEL package even if you are
using Emacs 20.x or Emacs 21.x.  Therefore, you must install both APEL
and FLIM if you would like to use the shimbun library.  The FLIM package
is available in:

@uref{ftp://ftp.m17n.org/pub/mule/flim/flim-1.14/}

@end table

@node Installing Emacs-w3m
@section Installing emacs-w3m
@cindex install

See the official page @uref{http://emacs-w3m.namazu.org/} for getting
emacs-w3m.  Is everything ready?  Now, let's begin.

In order to install emacs-w3m to non-UNIX-like system which is lacking
in an ability to execute the @samp{configure} script or has no
@samp{make} command, skip this section to go to the next section
@xref{Non-UNIX-like systems}.

@enumerate
@item
First, extract a tarball of emacs-w3m distribution at some place and
enter the top directory as follows:

@example
% tar zxf emacs-w3m-@value{VERSION}.tar.gz
% cd emacs-w3m-@value{VERSION}
@end example

If you've CVS checked out emacs-w3m, you have to run @samp{autoconf}
with no argument to generate @samp{configure} script.

@item
Run @samp{configure} script.

@example
% ./configure
@end example

If you've installed APEL, FLIM or something in non-standard directories
other than the default @code{load-path}, you must specify them using the
@samp{--with-addpath} option as follows:

@example
% ./configure --with-addpath=/opt/share/apel:/opt/share/flim
@end example

@item
Just run @samp{make} and @samp{make install}.  See also the next step if
you are using XEmacs.

@example
% make
% make install
@end example

Then all Lisp files and info files will be installed in the appropriate
directories.  Now, do you know what files will go to where?  To know it
beforehand, use this:

@example
% make what-where
@end example

If you are using Emacs 21 or XEmacs, you had better install icon image
files.  To do this:

@example
% make install-icons
@end example

@item
You can also install emacs-w3m as an XEmacs package using @samp{make
install-package} instead of @samp{make install} as follows:

@example
% make
% make install-package
@end example

In this case, you don't have to execute @samp{make install-icons}
command.

@end enumerate

@node Non-UNIX-like systems
@section Installing in non-UNIX-like systems
@cindex install
@cindex non-UNIX

If you cannot execute the @samp{configure} script in your system and
@samp{make} command is not available neither, cast the following spell:

@example
% emacs -batch -q -no-site-file -l w3mhack.el NONE -f w3mhack-nonunix-install
@end example

If you haven't APEL, FLIM or something installed in the ordinary places,
the installer will leave them out.  In such a case, it is necessary to
tell those places to the installer as shown below:

@example
% emacs -batch -q -no-site-file -l w3mhack.el //c/share/apel://c/share/flim -f w3mhack-nonunix-install
@end example

@node Shimbun Library
@chapter A tool for reading a newspaper
@cindex shimbun


@node Index
@unnumbered Index

@menu
* Concept Index::               Concept Index
* Key Index::                   Key Index
* Variable Index::              Variable Index
* Function Index::              Function Index
@end menu

@node Concept Index
@unnumberedsec Concept Index
@printindex cp

@node Key Index
@unnumberedsec Key Index
@printindex ky

@node Variable Index
@unnumberedsec Variable Index
@printindex vr

@node Function Index
@unnumberedsec Function Index
@printindex fn

@summarycontents
@contents
@bye

@c Local Variables:
@c fill-column: 72
@c End:
