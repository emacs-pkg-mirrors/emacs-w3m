           This package contains an interface program of w3m.

1. Introduction

   w3m is a pager with WWW capability, developed by Akinori ITO.  It
   is a pager, but it can be used as a text-mode WWW browser.  For more
   detail about it, see:

       http://w3m.sourceforge.net/

   emacs-w3m is a simple interface program of w3m, which works on Emacs.


2. Requirement

   Check whether your system meets the following requirement before
   installing emacs-w3m.

   Emacs-w3m requires the latest version of w3m.  It is w3m-0.3.2.2,
   which is released at December 6th, 2002.  Its source can be
   downloaded from:

       http://prdownloads.sourceforge.net/w3m/w3m-0.3.2.2.tar.gz

   Because this program is sensitive to version of w3m, you should
   confirm your using w3m.

   If you want to use shimbun library which is distributed with
   emacs-w3m, you have to install FLIM package.  For more detail abut
   shimbun library, see README.shimbun.ja (sorry, Japanese only).

   a) Emacs 21.x
      No additional package is required.

   b) Emacs 20.x
      No additional package is required.

      When BITMAP-MULE package is installed, emacs-w3m converts inline
      images into black-and-white images, and displays them on Emacs.

   c) XEmacs
      APEL package is required.

      Note: The XEmacs APEL package version 1.23 and later can be used
       for both XEmacs with Mule and non-Mule XEmacs.  However, those
       packages aren't suitable for FLIM (and possibly Wanderlust or
       T-gnus) because of the std11 modules.  So, we recommend you
       install the original APEL.

      If you are using XEmacs 21.x, you should install the program
      "gifsicle".  There is a known bug in the whole XEmacs 21.x series
      so far that it won't display optimized animated gifs correctly or
      it may crash when some kind of an interlaced gif image is
      displayed.  emacs-w3m will use it to convert gif data to be
      suitable for XEmacs 21.x.  It is available from:

          http://www.lcdf.org/gifsicle/

   d) Mule 2.3 (based on Emacs 19.34)
      APEL package, "new custom" package, the module regexp-opt.el(c)
      are required.  For more detail, please check the next section
      about Emacs 19.34.

      If you wish to use BITMAP-MULE package to show black and white
      images inline on the web pages, we strongly recommend you apply
      the patch and rebuild Mule.  The patch named mule-2.3@19.34.patch
      is included in patches/ directory.  If you don't accept our
      recommendation, Mule might be stuck.  And you wouldn't get out of
      the difficulty except kill Mule.

   e) Emacs 19.34 (without Mule)
      APEL package, "new custom" package, the module regexp-opt.el(c)
      are required.

      Emacs-w3m requires "new custom" package. If you use Emacs 19.34 or
      Mule 2.3, you have to install it before installing emacs-w3m. For
      more detail, see http://www.dina.kvl.dk/~abraham/custom/, and
      especially for Mule 2.3, see also README.en distributed with APEL.

      Emacs-w3m also requires the module regexp-opt.el(c) which might
      not be provided in the old Emacsen (e.g. Emacs 19.34 and Mule
      2.3).  If you are using such versions of Emacs, you have to
      install the module regexp-opt.el(c) before installing emacs-w3m as
      follows:

          % cp attic/regexp-opt.el /usr/local/share/emacs/site-lisp
          % cd /usr/local/share/emacs/site-lisp
          % emacs -q -no-site-file -batch -f batch-byte-compile regexp-opt.el

      (You will likely need to say `mule' instead of `emacs' for the
      path name and the executable name if you are using Mule.)


3. Installation

3.1. UNIX

     At the first, run `configure' script.

         % ./configure

     If you have installed modules such as APEL and FLIM into unstandard
     directories, you will have to use `--with-addpath' option in order
     to specify them.

         % ./configure --with-addpath=/opt/share/apel:/opt/share/flim

     Next, execute these commands to put emacs-lisp programs of this
     package to an appropriate directory.

         % make
         % make install

     In addition, you can install some image files used to the icons for
     XEmacs or Emacs 21 as follows.

         % make install-icons

     You can also install program files as an XEmacs package using
     `install-package' instead of `install'.

         % make
         % make install-package

     In this case, you have no need to execute `install-icons' command.

     The info files will also be installed by `make install' or
     `make install-package'.

3.2. Non-UNIX

     In order to install emacs-w3m to non-UNIX systems which lack an
     ability to execute `configure' script or have no `make' utility,
     execute this command.

         % emacs -batch -q -no-site-file -l w3mhack.el NONE -f w3mhack-nonunix-install

     When required packages, such as APEL, are installed into unusual
     places, the installer may miss them.  In this case, it is necessary
     to tell their places to the installer, as follows:

         % emacs -batch -q -no-site-file -l w3mhack.el //c/share/apel://c/share/flim -f w3mhack-nonunix-install


4. Configuration

4.1. Essential Configuration

     Put this line into your ~/.emacs.

         (autoload 'w3m "w3m" "Interface for w3m on Emacs." t)

     If you want to use contributed programs, some additional settings
     are required.  Please see the head of those programs for more
     details.  If unsure, put these lines into your ~/.emacs.

         (autoload 'w3m-find-file "w3m" "w3m interface function for local file." t)
         (autoload 'w3m-search "w3m-search" "Search QUERY using SEARCH-ENGINE." t)
         (autoload 'w3m-weather "w3m-weather" "Display weather report." t)
         (autoload 'w3m-antenna "w3m-antenna" "Report change of WEB sites." t)
         (autoload 'w3m-namazu "w3m-namazu" "Search files with Namazu." t)

4.2. mime-w3m.el

     In order to handle text/html part with emacs-w3m under SEMI MUAs
     such as T-gnus and Wanderlust, you have to put the following line
     in your ~/.emacs.

         (require 'mime-w3m)

4.3. Proxy Gateway

     There are some ways to do this, one is to set the environment
     variable http_proxy globally in the shell something like:

         setenv http_proxy http://proxy.hogege.com:8000/

     Another way is to customize the option `w3m-command-arguments' to
     add the options "-o" and "http_proxy=http://PROXY_SERVER_NAME:PORT/".
     This can also be done in your ~/.emacs as shown below:

         (eval-after-load "w3m"
           '(setq w3m-command-arguments
                  (nconc w3m-command-arguments
                         '("-o" "http_proxy=http://proxy.hogege.com:8000/"))))

     To specify no-proxy hosts that not to use proxy gateways to connect
     to, you can set the environment variable no_proxy with the comma
     separated host names, or set the option `w3m-no-proxy-domains' with
     a list of domain names (not host names) as follows:

         (setq w3m-no-proxy-domains '("local.com" "neighbor.com"))

     See also the documentation for the option
     `w3m-command-arguments-alist' to use regexps to specify the
     no-proxy hosts.


5. Contact

   To contact the emacs-w3m community for reporting bugs, contributing
   improvements, making a suggestion or asking us for help, send a mail
   to the open list <emacs-w3m@namazu.org>.  You can also send a bug
   report using the command `report-emacs-w3m-bug' or the key `C-c C-b'
   if you have set the option `mail-user-agent' that will work properly.


6. Acknowledgments

   w3m, which is an essential part of this package, was written by
   Akinori ITO.  We'd like to address our thanks to him for his nice
   work.


7. Related Information

   [1] APEL
       It can be downloaded from ftp://ftp.m17n.org/pub/mule/apel/.

   [2] FLIM
       It can be downloaded from ftp://ftp.m17n.org/pub/mule/flim/.
       Before installing it, it is necessary to install APEL.

   [3] BITMAP-MULE
       It can be downloaded from
       ftp://ftp.jpl.org/pub/elisp/bitmap/.

   [4] gifsicle
       It can be downloaded from http://www.lcdf.org/gifsicle/.

   [5] New custom
       For more detail, check http://www.dina.kvl.dk/~abraham/custom/.


Local Variables:
mode: indented-text
coding: ascii
fill-column: 72
End:
